new function(g,d){function l(a){return{"mousewheel wheel":function(c){c=c.originalEvent||window.event;var b=c.deltaY||c.wheelDelta,d=!1,d=b&&(0<b?1:-1);c.wheelDelta&&(d*=-1);a(d)}}}function r(a){var c=0;return{touchend:function(b){b=b.originalEvent;b=c-b.changedTouches[0].pageX;var d=!1;30<b?d=1:-30>b&&(d=-1);a(d,b)},touchstart:function(a){a=a.originalEvent;c=a.touches[0].pageX}}}function x(a){a=a||g.documentElement;!g.fullscreenElement&&!g.mozFullScreenElement&&!g.webkitFullscreenElement&&!g.webkitCurrentFullScreenElement&&
!g.msFullScreenElement?a.requestFullscreen?a.requestFullscreen():a.webkitRequestFullscreen?a.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):a.mozRequestFullScreen?a.mozRequestFullScreen():a.msRequestFullScreen?a.msRequestFullScreen():"undefined"!=typeof window.ActiveXObject&&(a=new ActiveXObject("WScript.Shell"),null!=a?a.SendKeys("{F11}"):alert('\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u0438 \u0432\u0430\u0448\u0435\u0433\u043e \u0431\u0440\u0430\u0443\u0437\u0435\u0440\u0430 \u043d\u0435 \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u044e\u0442 \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u043d\u043e \u0432\u043a\u043b\u044e\u0447\u0430\u0442\u044c \u043f\u043e\u043b\u043d\u043e\u044d\u043a\u0440\u0430\u043d\u043d\u044b\u0439 \u0440\u0435\u0436\u0438\u043c.\n\n\u0412\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u044d\u0442\u043e \u0441\u0430\u043c\u043e\u0441\u0442\u043e\u044f\u0442\u0435\u043b\u044c\u043d\u043e, \u043d\u0430\u0436\u0430\u0432 F11 \u043d\u0430 \u043a\u043b\u0430\u0432\u0438\u0430\u0442\u0443\u0440\u0435.\n\n\u0414\u043b\u044f \u0442\u043e\u0433\u043e, \u0447\u0442\u043e\u0431\u044b \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u0438, \u043f\u0435\u0440\u0435\u0439\u0434\u0438\u0442\u0435 \u0432\n"\u0418\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u044b" -> "\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u043e\u0431\u043e\u0437\u0440\u0435\u0432\u0430\u0442\u0435\u043b\u044f" -> "\u0411\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u044c"\n\u0438 \u043d\u0430\u0436\u043c\u0438\u0442\u0435 \u043a\u043d\u043e\u043f\u043a\u0443 "\u0414\u0440\u0443\u0433\u043e\u0439...".\n\u0412 \u043e\u0442\u043a\u0440\u044b\u0432\u0448\u0435\u043c\u0441\u044f \u043e\u043a\u043d\u0435 \u043d\u0430\u0439\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\n"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u043e\u0432 \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f ActiveX, \u043d\u0435 \u043f\u043e\u043c\u0435\u0447\u0435\u043d\u043d\u044b\u0445 \u043a\u0430\u043a \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u044b\u0435 \u0434\u043b\u044f \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f"\n\u0438 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0435 \u0434\u043b\u044f \u043d\u0435\u0433\u043e \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 "\u0412\u043a\u043b\u044e\u0447\u0438\u0442\u044c" \u0438\u043b\u0438 "\u041f\u0440\u0435\u0434\u043b\u0430\u0433\u0430\u0442\u044c".\n\u041f\u0435\u0440\u0435\u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u0435 \u0431\u0440\u0430\u0443\u0437\u0435\u0440, \u0447\u0442\u043e\u0431\u044b \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0432\u0441\u0442\u0443\u043f\u0438\u043b\u0438 \u0432 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435.')):
g.exitFullscreen?g.exitFullscreen():g.webkitCancelFullScreen?g.webkitCancelFullScreen():g.webkitExitFullscreen?g.webkitExitFullscreen():g.mozCancelFullScreen?g.mozCancelFullScreen():g.msCancelFullScreen?g.msCancelFullScreen():"undefined"!=typeof window.ActiveXObject&&(a=new ActiveXObject("WScript.Shell"),null!=a&&a.SendKeys("{F11}"))}function j(a){a=a.originalEvent;var c=a.changedTouches[0],b="";switch(a.type){case "touchstart":b="mousedown";break;case "touchmove":b="mousemove";break;case "touchend":b=
"mouseup";break;default:return}var d=g.createEvent("MouseEvent");d.initMouseEvent(b,!0,!0,window,1,c.screenX,c.screenY,c.clientX,c.clientY,!1,!1,!1,!1,0,null);c.target.dispatchEvent(d);a.preventDefault()}var m=function(a,c){var b=d(a);this.$elem=b;this.id=b.attr("id");this.index=b.index();this.options=c;this.timer=b.attr(this.options.timeAttr)||this.options.slideTimer;this.steps=[];this.currentStep=null;this.findSteps(b)};m.prototype={findSteps:function(a){var c=this;a=a.find("."+c.options.stepsContainerClass);
d.each(a,function(a,e){c.addSteps(d(e))});return c},addSteps:function(a){if(!a.data("processed")){a.data("processed",!0);var c=this,b=c.options,e=a.children(),f=a.attr(b.timeAttr)||b.stepTimer;d.each(e,function(a,e){e=d(e);e.hasClass(b.stepsContainerClass)?c.addSteps(e):(e.addClass(b.stepClass),c.steps.push({$elem:e,timer:e.attr(b.timeAttr)||f}),c.findSteps(e))});return c}},doStep:function(){var a=this.steps.shift();a.$elem.removeClass(this.options.stepClass);return this.currentStep=a}};var n=function(a,
c){var b=d(a),e=b.attr("id");this.options=d.extend(!0,{},this.defaults,c);e||(e="present"+(b.index()+1),b.attr("id",e));b.addClass("presentation");this.$elem=b;this.id=e;this.slides=[];this.slidesCount=0;this.currentSlide=-1;this.playTimeOut=null;this.status={paused:!1,playing:!1,stopped:!0};this.addSlides(b.children("article"));this._onReady();return this};n.prototype={defaults:{autoPlay:!1,bindToHistory:!0,controlPanel:!0,loopPlay:!1,initialScale:85,initialTheme:"Dark",onReady:d.noop,onPlay:d.noop,
onStop:d.noop,onPause:d.noop,onRestart:d.noop,scaleOnResize:!0,transition:!0,userEvents:!0,slide:{stepsClass:"steps",slideTimer:4500,stepTimer:1500,slideClass:"slide",stepsContainerClass:"steps",stepClass:"step",timeAttr:"data-timer"},initialSlide:1,presentClass:"presentation",slidesClasses:["farPrev","prev","current","next","farNext"],presentThemes:["Light","Dark"]},_onReady:function(){var a=this.options;this.scale=this._setScaleHandler();this.changeTheme=this._setThemeToggler();this._bindEvents();
this._addPrettify();this._addFontStyle();a.controlPanel&&this._addControls();this.scale(a.initialScale);this.changeTheme(a.initialTheme);this.toggleTransition(a.transition);var c=this.getSlideFromHash();this.goTo(c&&c.index||a.initialSlide-1,!0);a.bindToHistory&&this._setState(!0);a.autoPlay&&this.play();this.defaults.onReady();return this},_bindEvents:function(){var a=this,c=a.$elem,b=a.options;if(b.scaleOnResize){var e=a.scale,f=null;d(window).on("resize",function(){f&&clearTimeout(f);f=setTimeout(e,
100)})}b.bindToHistory&&d(window).on("popstate",d.proxy(a._onPopState,a));d(g).on("fullscreenchange webkitfullscreenchange mozfullscreenchange msfullscreenchange",function(){a.$elem.trigger("fullScreenToggled",this.fullscreenElement||this.mozFullScreenElement||this.webkitFullscreenElement||this.webkitCurrentFullScreenElement||this.msFullScreenElement);a.scale()});c.on({touchstart:j,touchmove:j,touchend:j});b.userEvents&&(d(g).on("keydown",d.proxy(a._keysHandler,a)),c.on("mouseover mousemove",function C(){d(this).off("mouseover mousemove",
C).addClass("focused").hover(function(){d(this).addClass("focused")},function(){d(this).removeClass("focused")})}).on(r(function(b){b&&(0<b?a.next():a.previous())})).on(l(function(b){b&&(0<b?a.next():a.previous())})));a.$elem.find('a[href^="#"]').on("mousedown",function(b){b.preventDefault();a.goTo(a.id+"_"+d(this).attr("href").substr(1))});return a},_addControls:function(){function a(a,b,c){return d("<button/>",{"class":"control "+a,html:'<i class="icon-'+(b?b:a)+'"></i>',title:c})}var c=this,b=
c.$elem,e=d("<div/>",{"class":"backCounter",text:1}),f=d("<div/>",{"class":"footer"}),h=d("<div/>",{"class":"controls"}),g=d("<div/>",{"class":"control counter"}),k=d("<input/>",{"class":"current",type:"text",value:1,maxlength:3,all:7}),j=d("<span/>",{"class":"count",text:c.slidesCount}),y=d("<div/>",{"class":"control scaler"}),D=a("scale","zoom-in"),l=d("<div/>",{"class":"control scroll",min:40,max:100}),m=d("<div/>",{"class":"control settings"}),p=a("sets","cog"),s=d("<div/>",{"class":"menu"}),
n=d("<div/>",{"class":"handler themeSelector"}),z=d("<div/>",{"class":"handler transToggler"}),t=a("prev","arrow-left"),u=a("next","arrow-right"),q=a("play"),A=a("fullscreen");y.append(D,l);g.append(k,d("<span/>",{"class":"divider",text:"/"}),j);m.append(p,s.append(n,z));h.append(g,'<span class="space"></span>',t,u,'<span class="space"></span>',q,A,'<span class="space"></span>',y,m);f.append(h);b.append(e,f);var r=new v(n,"Theme:",c.options.presentThemes,d.proxy(c.changeTheme,c)),E=new v(z,"Transition:",
["On","Off"],function(a){c.toggleTransition("On"===a)}),F=new B(l,c.scale);g.hover(function(){k.focus()},function(){k.blur()});k.on({"keyup change":function(){var a=k.val();""!==a&&(a=(a=a.match(/[0-9]/g))&&a.join("")||"",k.val(a),""!==a&&c.goTo(parseInt(a)-1))},blur:function(){k.val(c.currentSlide+1)}});h.on("mousedown","button",function(a){a=d(a.currentTarget);a.hasClass("prev")?c.previous():a.hasClass("next")?c.next():a.hasClass("play")?c.status.playing?c.pause():c.play():a.hasClass("scale")?c.scale(100):
a.hasClass("fullscreen")?x(c.$elem[0]):a.hasClass("sets")&&(p.toggleClass("active"),s.slideToggle())});d("body").on("mousedown",function(a){!d(a.target).parents(".settings")[0]&&p.hasClass("active")&&(p.removeClass("active"),s.slideUp())});var w=setTimeout(function(){h.addClass("hidden")},2E3);b.on({"mousedown mousemove":function(){clearTimeout(w);w=null;h.removeClass("hidden");w=setTimeout(function(){h.addClass("hidden")},2E3)},onSlideChanged:function(){var a=c.currentSlide;1>a?t.attr("disabled",
"disabled"):t.removeAttr("disabled");a>c.slidesCount-2?u.attr("disabled","disabled"):u.removeAttr("disabled");k.val(a+1);e.text(a+1)},scaleChanged:function(a,b){F.setValue(b)},themeChanged:function(a,b){r.setValue(b)},transitionToggled:function(a,b){E.setValue(b?"On":"Off")},fullScreenToggled:function(a,b){A.toggleClass("active",b)},onPlay:function(){q.toggleClass("active",!0)},onPause:function(){q.toggleClass("active",!1)},onStop:function(){q.removeClass("active")}});return c.controls=h},addSlides:function(a){var c=
this,b,e,f=this.id,h=this.options.slide;d.each(a,function(a,g){b=d(g);e=b.attr("id")||"slide"+(b.index()+1);b.attr("id",f+"_"+e);c.slides.push(new m(b,h));c.slidesCount=c.slides.length});return c},updateSlides:function(){var a=this.currentSlide,c=this.options.slidesClasses,b=c.join(" "),e;d.each(this.slides,function(d,h){h=h.$elem.removeClass(b);(e=c[d-a+2])&&h.addClass(e)})},previous:function(){return this.goTo(this.currentSlide-1)},goTo:function(a,c){var b=this.getSlide(a);if(!b)return null;this.currentSlide=
b.index;this.updateSlides();this.$elem.trigger("onSlideChanged");!c&&this._setState();return b},next:function(){var a=this.slides[this.currentSlide];return a.steps.length?(a.doStep(),a):this.goTo(this.currentSlide+1)},toggleTransition:function(a){var c=this.transition;console.log(c,a);c!==a&&(null===a&&(a=!c),this.$elem.attr("data-transition",a?"On":"Off").trigger("transitionToggled",a),this.transition=a)},changeStatus:function(a){var c=this;d.each(c.status,function(b){c.status[b]=b===a});return c},
play:function(){clearTimeout(this.playTimeOut);var a=this.slides[this.currentSlide]||this.goTo(0),c=a.currentStep,b=d.proxy(function(){this.next();this.play()},this),e=a.timer;if(a.steps.length)e=c&&c.timer||this.options.slide.stepTimer;else if(this.currentSlide===this.slidesCount-1){if(!this.status.playing)return this.restart();b=d.proxy(function(){this.options.loopPlay?this.restart():this.stop()},this)}this.status.playing||(this.$elem.trigger("onPlay"),this.changeStatus("playing"),this.defaults.onPlay());
this.playTimeOut=setTimeout(b,e);return this},stop:function(){this.status.stopped||(clearTimeout(this.playTimeOut),this.$elem.trigger("onStop"),this.changeStatus("stopped"),this.defaults.onStopt());return this},pause:function(){this.status.paused||(clearTimeout(this.playTimeOut),this.$elem.trigger("onPause"),this.changeStatus("paused"),this.defaults.onPause());return this},restart:function(){this.goTo(0);this.play();this.$elem.trigger("onRestart");this.defaults.onRestart();return this},getSlide:function(a){var c=
!1;"string"===d.type(a)&&d.each(this.slides,function(b,d){if(d.id===a)return c=b,!1});d.isNumeric(a)?c=-1<a&&a<this.slidesCount&&a:a||(c=this.currentSlide);return d.isNumeric(c)?this.slides[c]:null},getSlideFromHash:function(){var a=this,c=location.hash.substr(1);if(""===c)return!1;var c=c.split("&"),b=!1;d.each(c,function(c,d){b=a.getSlide(d);return!b});return b},_setState:function(a){var c=this,b=c.slides[c.currentSlide];if(b){var b=b.id,e=history.state||{};a=a?"replaceState":"pushState";var f=
location.hash.substr(1),h=!1,f=""==f?[]:f.split("&");d.each(f,function(a,b){if(b.split("_")[0]==c.id)return h=a,!1});d.isNumeric(h)?f[h]=b:f.push(b);f=f.join("&");e[c.id]=b;if(history[a])history[a](e,"","#"+f);else window.location.hash=f;return c}},_onPopState:function(a){a=a.originalEvent||window.event;(a=(a=a.state&&a.state[this.id])?this.getSlide(a):this.getSlideFromHash())&&this.goTo(a.index,!0);return this},_keysHandler:function(a){var c=this.$elem;if(!/^(input|textarea)$/i.test(a.target.nodeName)&&
!a.target.isContentEditable&&c.is(".focused"))switch(console.log(a.keyCode),a.keyCode){case 32:this.status.playing?this.pause():this.play();break;case 37:this.previous();break;case 39:this.next();break;case 38:this.scale(!1,10);break;case 40:this.scale(!1,-10);break;case 82:this.toggleTransition(null);break;case 84:this.changeTheme();break;case 122:a.preventDefault(),x(c[0])}},_setScaleHandler:function(){function a(){var a=b.width(),c=b.height()*g;c>a&&(c=a);k=c/h}var c=this,b=c.$elem,e=parseInt(d("html").css("font-size")),
f=c.slides[0].$elem,h=parseInt(f.width()+2*e),g=h/(f.height()+2*e).toFixed(0),k=null,j=null;a();return function(d,e){d||(a(),d=j);e&&(d+=parseInt(e));40>d?d=40:100<d&&(d=100);b.css("font-size",Math.round(d*k)+"%");j!==d&&(j=d,c.$elem.trigger("scaleChanged",j))}},_setThemeToggler:function(){var a=this.$elem,c=this.options,b=c.presentThemes,e=this.currentTheme||-1,f=c.initialTheme;return function(c){console.log(e);e=c?d.inArray(c,b):!d.isNumeric(e)||0>e?d.inArray(f,b):e+1;console.log(e);if(e>=b.length||
0>e)e=0;a.attr("data-theme",b[e]);this.currentTheme=e;a.trigger("themeChanged",b[e])}},_addPrettify:function(){d("pre").addClass("prettyprint");d.getScript("javascripts/prettify.js",function(){prettyPrint()})},_addFontStyle:function(){d("body").append(d("<link/>",{rel:"stylesheet",type:"text/css",href:"http://fonts.googleapis.com/css?family=Open+Sans:regular,semibold,italic,italicsemibold|Droid+Sans+Mono"}))}};var B=function(a,c){var b=this,e=d(a);e.append('<div class="ord"><span class="handler"></span></div> ');
e.addClass("hideable");b.$elem=e;b.$ord=e.find(".ord");b.$handler=e.find(".handler");b.elemWidth=parseInt(e.width());b.ordWidth=parseInt(b.$ord.width());b.handlerWidth=parseInt(b.$handler.width());b.min=parseInt(e.attr("min"));b.max=parseInt(e.attr("max"));b.step=b.ordWidth/(b.max-b.min);b.onChange=c;e.on(b.setDragHandler()).on(l(function(a){a&&b.setValue(b._value-10*a)})).on("touchstart",j);b.setValue(parseInt(e.attr("value")));return b};B.prototype={setDragHandler:function(){function a(a){a.preventDefault();
a=((parseInt(a.pageX)-e)*f+b.min).toFixed(1);95<a&&110>a&&(a=100);b.setValue(a)}function c(){d(window).off("mousemove touchmove",a);b.$elem.addClass("hideable")}var b=this,e=parseInt(b.$ord.offset().left),f=(b.max-b.min)/b.ordWidth;return{mousedown:function(f){f.preventDefault();e=parseInt(b.$ord.offset().left);b.$elem.removeClass("hideable");a(f);d(window).on({mousemove:a,mouseup:c,touchmove:j,touchend:j})}}},setValue:function(a){a=Math.round(parseInt(a));a>this.max?a=this.max:a<this.min&&(a=this.min);
if(a!==this._value)return this.value=a,this.update(),this.onChange&&this.onChange(a),this},update:function(){var a=Math.round(this.step*(this.value-this.min));0>a?a=0:a>this.ordWidth&&(a=this.ordWidth);this.$handler.css("left",a-this.handlerWidth/2);return a}};var v=function(a,c,b,e){var f=this;a=d(a);var g=d("<div/>",{"class":"selector"}),j=d("<ul/>",{"class":"list",html:d.map(b,function(a){return d("<li/>",{text:a})})});g.attr("data-description",c).on("mousedown",function(){j.slideToggle()});j.on("mousedown",
"li",function(){f.setValue(d(this).text())});f.$selector=g;f.$list=j;f.$items=j.children("li");f.callback=e||d.noop;f.value=null;a.append(g,j);return f};v.prototype={setValue:function(a){this.$list.slideUp();this.value!==a&&(this.$selector.text(a),this.value=a,this.onChange())},onChange:function(){var a=this;a.callback(a.value);d.each(a.$items,function(c,b){b=d(b);b.toggleClass("active",b.text()==a.value)})}};d.fn.makePresent=function(a){this.each(function(c,b){new n(b,a)})}}(document,jQuery);$(function(){$(".presentation").makePresent()});
